<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CaseRage - –û—Ç–∫—Ä—ã–≤–∞–π –∫–µ–π—Å—ã</title>
    <style>
        body {
            background-color: #1c1c1e;
            color: white;
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .case-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 150px;
            border: 2px solid #3a3a3c;
            background: #2c2c2e;
            overflow: hidden;
            border-radius: 15px;
        }

        /* –ö—Ä–∞—Å–Ω–∞—è –ª–∏–Ω–∏—è-—É–∫–∞–∑–∞—Ç–µ–ª—å */
        .pointer {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: #ff453a;
            z-index: 10;
            transform: translateX(-50%);
            box-shadow: 0 0 10px rgba(255, 69, 58, 0.5);
        }

        .tape {
            display: flex;
            position: absolute;
            left: 0;
            top: 25px;
            transition: transform 5s cubic-bezier(0.15, 0, 0.15, 1); /* –ü–ª–∞–≤–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ */
            will-change: transform;
        }

        .item {
            min-width: 100px;
            height: 100px;
            margin: 0 5px;
            background: #3a3a3c;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            font-size: 12px;
            font-weight: bold;
        }

        .item.rare { border-bottom: 4px solid #5e5ce6; } /* –°–∏–Ω–∏–π - —Ä–µ–¥–∫–∏–π */
        .item.epic { border-bottom: 4px solid #af52de; } /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π - —ç–ø–∏–∫ */
        .item.legendary { border-bottom: 4px solid #ffd60a; } /* –ó–æ–ª–æ—Ç–æ–π - –ª–µ–≥–µ–Ω–¥–∞ */

        .item img {
            width: 50px;
            height: 50px;
            margin-bottom: 5px;
        }

        button {
            margin-top: 30px;
            padding: 15px 40px;
            font-size: 18px;
            background: #30d158;
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(48, 209, 88, 0.3);
        }

        button:active { transform: scale(0.95); }
        button:disabled { background: #555; }
    </style>
</head>
<body>

    <h1>CaseRage üì¶</h1>
    <div id="balance">–ë–∞–ª–∞–Ω—Å: 1000 ‚≠êÔ∏è</div>

    <div class="case-container">
        <div class="pointer"></div>
        <div class="tape" id="tape">
            </div>
    </div>

    <button onclick="spin()" id="spinBtn">–ö–†–£–¢–ò–¢–¨ (100 ‚≠êÔ∏è)</button>

    <script>
        const tape = document.getElementById('tape');
        const itemsList = [
            { name: '10 ‚≠êÔ∏è', color: 'common', img: 'üí∞' },
            { name: '50 ‚≠êÔ∏è', color: 'rare', img: 'üíé' },
            { name: '100 ‚≠êÔ∏è', color: 'rare', img: 'üíµ' },
            { name: '200 ‚≠êÔ∏è', color: 'epic', img: 'üî•' },
            { name: '500 ‚≠êÔ∏è', color: 'legendary', img: 'üëë' },
            { name: '0 ‚≠êÔ∏è', color: 'common', img: 'üí©' }
        ];

        // –°–æ–∑–¥–∞–µ–º –º–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –ª–µ–Ω—Ç—ã
        function renderItems() {
            for (let i = 0; i < 80; i++) {
                const itemData = itemsList[Math.floor(Math.random() * itemsList.length)];
                const div = document.createElement('div');
                div.className = `item ${itemData.color}`;
                div.innerHTML = `<span>${itemData.img}</span><br>${itemData.name}`;
                tape.appendChild(div);
            }
        }

        function spin() {
            const btn = document.getElementById('spinBtn');
            btn.disabled = true;

            const itemWidth = 110; // —à–∏—Ä–∏–Ω–∞ (100) + margin (5+5)
            const randomOffset = Math.floor(Math.random() * itemsList.length);
            const winnerIndex = 60 + randomOffset; // –û—Å—Ç–∞–Ω–æ–≤–∏–º—Å—è –≥–¥–µ-—Ç–æ –≤ –∫–æ–Ω—Ü–µ –ª–µ–Ω—Ç—ã
            
            // –†–∞—Å—á–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è
            const finalPosition = (winnerIndex * itemWidth) - (window.innerWidth / 2) + (itemWidth / 2);

            tape.style.transition = 'none';
            tape.style.transform = 'translateX(0)';
            
            setTimeout(() => {
                tape.style.transition = 'transform 5s cubic-bezier(0.15, 0, 0.15, 1)';
                tape.style.transform = `translateX(-${winnerIndex * itemWidth - 195}px)`;
            }, 50);

            setTimeout(() => {
                alert('–í—ã–ø–∞–ª–æ: ' + tape.children[winnerIndex].innerText);
                btn.disabled = false;
            }, 5500);
        }

        renderItems();
    </script>
</body>
</html>
